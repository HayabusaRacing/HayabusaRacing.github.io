<!DOCTYPE html>
<html lang="en">
<head id="head"></head>
<body>
    <header class="container">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="color-scheme" content="light dark">
        <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
        <link rel="stylesheet" href="/css/style.css">
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
                onload="renderMathInElement(document.body);"></script>
        <title>Hayabusa Racing Calculations</title>
    </header>

    <main class="container">
        <a href="../index.html">return to index</a>
        <h1>Summary of the Simulation</h1>
        <p>
            We assumed that the affecting factors of the car's lap times are listed below:
            <ul>
                <li>Mass of the car</li>
                <li>Aerodynamic drag</li>
                <li>Aerodynamic lift</li>
                <li>Thrust from the CO2 cartridge</li>
                <li>Bearing friction</li>
                <li>Tether guide resistance</li>
                <li>Wheel inertia</li>
                <li>Cartridge-caused tipping moment</li>
            </ul>
            The following forces will be modeled as a function of time:
            \[F_{thrust}(t) \text{: the force created by the cartridge thrust}\]
            \[F_{drag}(t) \text{: the force created by aerodynamic drag}\]
            \[F_{lift}(t) \text{: the force created by aerodynamic lift}\]
            \[F_{bearing}(t) \text{: the force created by bearing friction}\]
            \[F_{tether}(t) \text{: the force created by tether guide resistance}\]
            In addition, the mass of the car is expected to alter with respect to time, as the cartridge is used up; thus, we will model the mass as a function of time:
            \[m(t) \text{: the mass of the car at time } t\]
            A single wheel's inertia could be considered as a virtual mass and will be a constant value.
            \[I_{wheel} \text{: the total inertia of the wheels}\]
            \[I_{fw} \text{: the front wheel's inertia}\]
            \[I_{rw} \text{: the rear wheel's inertia}\]
            The tipping moment caused by the cartridge directly reduces the efficiency of the thrust, and will be a constant value.
            \[\eta_{tip} \text{: the tipping moment efficiency factor}\]
            Now, when we combine all these forces, we can write the equation of the force applied to the car.
            \[F_{total}(t) = F_{thrust}(t) \cdot \eta_{tip} - F_{drag}(t) - F_{friction}(t)\]
            According to Newton's Second Law, the derivative of the velocity is proportional to the total force applied to the car, divided by the mass of the car.
            \[F=ma\]
            \[a=\frac{dv}{dt} = \frac{F_{total}(t)}{m(t) + I_{wheel}}\ = \frac{F_{thrust}(t) \cdot \eta_{tip} - F_{drag}(t) - F_{bearing}(t) - F_{tether}(t)}{m(t) + I_{wheel}}\]

            Let's dive into the details of each force and how they are modeled.
        </p>
        <h2>Thrust Force</h2>
        Working on this...
        <h2>Drag Force</h2>
        <p>
            The aerodynamic drag force is modeled as a quadratic function of the velocity.
            \[F_{drag}(t) = \frac{1}{2} \rho C_d A v^2 = k_d v^2\]
            The coefficients of the drag forces are listed below.
            <ul>
                <li>\(\rho\): the air density.</li>
                <li>\(C_d\): the drag coefficient, which is a dimensionless number that represents the drag per unit area; for a car.</li>
                <li>\(A\): the frontal area of the car, which is the area projected by the car's silhouette when viewed from the front.</li>
                <li>\(k_{drag}\): the drag coefficient, which is calculated as \(k_d = \frac{1}{2} \rho C_d A\)</li>
            </ul>
        </p>
        <h2>Lift Force</h2>
        <p>
            The aerodynamic lift force is also modeled as a quadratic function of the velocity.
            \[F_{lift}(t) = \frac{1}{2} \rho C_l A v^2 = k_l v^2\]
            The coefficients of the lift forces are listed below.
            <ul>
                <li>\(\rho\): the air density.</li>
                <li>\(C_l\): the lift coefficient, which is a dimensionless number that represents the lift per unit area; for a car.</li>
                <li>\(A\): the frontal area of the car, which is the area projected by the car's silhouette when viewed from the front.</li>
                <li>\(k_{lift}\): the lift coefficient, which is calculated as \(k_l = \frac{1}{2} \rho C_l A\)</li>
            </ul>
        </p>
        <h2>Bearing Friction Force</h2>
        <p>
            The bearing friction force is modeled as a linear function that depends on the normal force applied to the wheels.
            \[F_{bearing}(t) \approx F_0 + \mu_{bearing} (m(t)g - F_{lift}(t))\]
            The coefficients of the bearing friction force are listed below.
            <ul>
                <li>\(F_0\): the virtual initial friction force when friction is modeled as a linear function with respect to time.</li>
                <li>\(\mu_{bearing}\): the coefficient of friction between the wheels and the ground.</li>
                <li>\(m(t)\): the mass of the car at time \(t\).</li>
                <li>\(g\): the gravitational acceleration, which is approximately \(9.81 \, \text{m/s}^2\).</li>
            </ul>
        </p>
        <h2>Tether Guide Resistance Force</h2>
        <p>
            The tether guide resistance force is modeled as a constant force that depends on the car's tether guide position.
            \[F_{tether}(t) \approx \mu T(\frac{h}{\sqrt{x(t)^2 + h^2}} + \frac{h}{\sqrt{(D - x(t) - L)^2 + h^2}}) \approx \mu_t T\]
            The coefficients of the tether guide resistance force are listed below.
            <ul>
                <li>\(\mu_t\): the coefficient of friction between the tether and the guide.</li>
                <li>\(T\): the tension in the tether, which is a constant force that depends on the track.</li>
                <li>\(h\): the height of the tether guide above the ground.</li>
                <li>\(x\): the horizontal position of the car.</li>
                <li>\(D\): the length of the tether.</li>
                <li>\(L\): the distance between the front and rear guides.</li>
            </ul>
            We initially modeled the tether guide resistance force as a function of the car's position, though, as we graphed the force, it turned out that we could approximate it as a constant force.
            Even though we approximate the force, we still could use the initial model to understand what reduces the force due to the car's tether guide position.
            \[f(x) = (\frac{1}{\sqrt{x^2 + h^2}} + \frac{1}{\sqrt{(D - x - L)^2 + h^2}}) \propto N\]
            When thinking about \(L\), the distance between the front and rear guides,we can say that as \(L\) decreases, the tether guide resistance force also decreases.
            \[\frac{\partial f}{\partial L} = \frac{D - x - L}{((D - x - L)^2 + h^2)^{3/2}} > 0 \qquad(D - x - L > 0)\]
            Also when thinking about \(h\), the height of the tether guide above the ground, we can say that as \(h\) decreases, the tether guide resistance force also decreases.
            \[g(z, h) = \frac{h}{\sqrt{z^2 + h^2}}\]
            \[\frac{\partial g}{\partial h} = \frac{z^2}{(z^2 + h^2)^{3/2}} > 0 \qquad(z > 0)\]
            \[\frac{\partial f}{\partial h} = \frac{\partial g(x, h)}{\partial h} + \frac{\partial g(D - x - L, h)}{\partial h} \ge 0\]
            From these two partial derivatives, we could say that we should decrease \( L \) and \( h \) to reduce the tether guide resistance force.
        </p>
        <h2>Mass of the Car</h2>
        <p>
            The mass of the car is modeled as a function of time, as the cartridge uses up the CO2 gas by time.
            \[m(t) \approx m_{total} - k_{CO_2} \cdot \int_0^t F_{thrust}(\tau) d\tau\]
            The coefficients of the mass function are listed below.
            <ul>
                <li>\(m_{total}\): the total mass of the car at the start, including the fully charged cartridge.</li>
                <li>\(k_{CO_2}\): the mass loss coefficient, which is calculated as the mass of the CO2 cartridge divided by the total thrust force.</li>
                <li>\(F_{thrust}(t)\): the thrust force applied to the car at time \(t\).</li>
            </ul>
        </p>
        <h2>Wheel Inertia</h2>
        <p>
            The inertia of the wheels is modeled as a virtual mass that affects the acceleration of the car.
            \[I_{wheel} = 2I_{fw} + 2I_{rw}\]
            The coefficients of the wheel inertia are listed below.
            <ul>
                <li>\(I_{fw}\): the inertia of the front wheel.</li>
                <li>\(I_{rw}\): the inertia of the rear wheel.</li>
            </ul>
        </p>
        <h2>Tipping Moment</h2>
        <p>
            The tipping moment caused by the cartridge is modeled as a constant and will proportionally reduce the efficiency of the thrust.
            \[\eta_{tip} \approx 1 - \frac{d}{L_{eff}} \]
            The coefficients of the tipping moment are listed below.
            <ul>
                <li>\(d\): the distance from the center of mass to the point where the cartridge is attached.</li>
                <li>\(L_{eff}\): the effective length of the car, which is the distance from the front wheel to the rear wheel.</li>
            </ul>
        </p>
        <h2>Summary</h2>
        <p>
            Taking into account all the forces and coefficients, we can summarize the equations of motion for the car as follows:
            \[F_{total}(t) = F_{thrust}(t) \cdot \eta_{tip} - F_{drag}(t) - F_{bearing}(t) - F_{tether}(t)\]
            \[a(t) = \frac{F_{total}(t)}{m(t) + I_{wheel}}\]
            \[v(t) = \int_0^t a(\tau) d\tau\]
            \[s(t) = \int_0^t v(\tau) d\tau\]
            \[m(t) = m_{total} - k_{CO_2} \cdot \int_0^t F_{thrust}(\tau) d\tau\]
            \[I_{wheel} = 2I_{fw} + 2I_{rw}\]
            \[\eta_{tip} = 1 - \frac{d}{L_{eff}}\]
            These equations will be used to simulate the car's motion and calculate the lap times based on the initial conditions and parameters provided.
            \[\frac{dv}{dt}=\frac{F_{total}(t)}{m(t) + I_{wheel}}=\frac{F_{thrust}(t) \cdot (1 - \frac{d}{L_{eff}}) - k_d v^2 - (F_0 + \mu_{bearing} (m(t)g - F_{lift}(t))) - F_{tether}(t)}{m_{total} - k_{CO_2} \cdot \int_0^t F_{thrust}(\tau) d\tau + 2I_{fw} + 2I_{rw}}\]
        </p>
    </main>

    <footer id="footer" class="container"></footer>
</body>

<script src="/js/modules/load-template.js"></script>
<script src="/js/modules/util.js"></script>
<script src="/js/calc1.js"></script>
</html>